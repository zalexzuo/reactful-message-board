{"ast":null,"code":"import _objectSpread from\"/Users/Zuo/Desktop/Reactful-project/reactful-message-board/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from\"react\";import{useNavigate,useLocation}from\"react-router-dom\";import styles from\"./PostForm.module.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PostForm=function PostForm(_ref){var sendRequestHandler=_ref.sendRequestHandler,formSubmitHandler=_ref.formSubmitHandler,postObj=_ref.postObj,setPostObj=_ref.setPostObj,pageTitle=_ref.pageTitle;var getModifiedDate=function getModifiedDate(dateInfo){return\"\".concat(dateInfo.getFullYear(),\"/\").concat(dateInfo.getMonth()+1,\"/\").concat(dateInfo.getDate());};var navigate=useNavigate();var pathname=useLocation().pathname;var titleOnchangeHandler=function titleOnchangeHandler(e,prePostObj){var modifiedDate=getModifiedDate(new Date());var newPostObj=_objectSpread(_objectSpread({},prePostObj),{},{title:e.target.value,modifieddate:modifiedDate});setPostObj(newPostObj);};var contentOnchangeHandler=function contentOnchangeHandler(e,prePostObj){var modifiedDate=getModifiedDate(new Date());var newPostObj=_objectSpread(_objectSpread({},prePostObj),{},{content:e.target.value,modifieddate:modifiedDate});setPostObj(newPostObj);};var goBackHandler=function goBackHandler(e){e.preventDefault();console.log(pathname[1]);if(pathname[1]==\"m\"){navigate(\"/mypost\",{replace:false});return;}navigate(\"/allpost\",{replace:false});};var testHandler=function testHandler(e){e.preventDefault();console.log(postObj);};return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:styles.formContainer,children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:pageTitle}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Title...\",value:postObj[\"title\"],onChange:function onChange(e){titleOnchangeHandler(e,postObj);}}),/*#__PURE__*/_jsx(\"textarea\",{value:postObj[\"content\"],placeholder:\"Content...\",onChange:function onChange(e){contentOnchangeHandler(e,postObj);}}),/*#__PURE__*/_jsxs(\"div\",{className:styles.btnContainer,children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){goBackHandler(e);},children:\"Back\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){formSubmitHandler(e,sendRequestHandler,postObj);},children:\"Submit\"})]})]})})});};export default PostForm;","map":{"version":3,"names":["React","useNavigate","useLocation","styles","PostForm","sendRequestHandler","formSubmitHandler","postObj","setPostObj","pageTitle","getModifiedDate","dateInfo","getFullYear","getMonth","getDate","navigate","pathname","titleOnchangeHandler","e","prePostObj","modifiedDate","Date","newPostObj","title","target","value","modifieddate","contentOnchangeHandler","content","goBackHandler","preventDefault","console","log","replace","testHandler","formContainer","btnContainer"],"sources":["/Users/Zuo/Desktop/Reactful-project/reactful-message-board/src/components/post/PostForm.js"],"sourcesContent":["import React from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\n\nimport styles from \"./PostForm.module.scss\";\n\nconst PostForm = ({\n  sendRequestHandler,\n  formSubmitHandler,\n  postObj,\n  setPostObj,\n  pageTitle,\n}) => {\n  const getModifiedDate = (dateInfo) => {\n    return `${dateInfo.getFullYear()}/${\n      dateInfo.getMonth() + 1\n    }/${dateInfo.getDate()}`;\n  };\n\n  const navigate = useNavigate();\n  const pathname = useLocation().pathname;\n\n  const titleOnchangeHandler = (e, prePostObj) => {\n    const modifiedDate = getModifiedDate(new Date());\n    const newPostObj = {\n      ...prePostObj,\n      title: e.target.value,\n      modifieddate: modifiedDate,\n    };\n    setPostObj(newPostObj);\n  };\n\n  const contentOnchangeHandler = (e, prePostObj) => {\n    const modifiedDate = getModifiedDate(new Date());\n    const newPostObj = {\n      ...prePostObj,\n      content: e.target.value,\n      modifieddate: modifiedDate,\n    };\n    setPostObj(newPostObj);\n  };\n\n  const goBackHandler = (e) => {\n    e.preventDefault();\n    console.log(pathname[1]);\n\n    if (pathname[1] == \"m\") {\n      navigate(\"/mypost\", { replace: false });\n      return;\n    }\n\n    navigate(\"/allpost\", { replace: false });\n  };\n\n  const testHandler = (e) => {\n    e.preventDefault();\n    console.log(postObj);\n  };\n\n  return (\n    <React.Fragment>\n      <div className={styles.formContainer}>\n        <form>\n          <h2>{pageTitle}</h2>\n          <input\n            type=\"text\"\n            placeholder=\"Enter Title...\"\n            value={postObj[\"title\"]}\n            onChange={(e) => {\n              titleOnchangeHandler(e, postObj);\n            }}\n          ></input>\n\n          <textarea\n            value={postObj[\"content\"]}\n            placeholder=\"Content...\"\n            onChange={(e) => {\n              contentOnchangeHandler(e, postObj);\n            }}\n          ></textarea>\n          <div className={styles.btnContainer}>\n            <button\n              onClick={(e) => {\n                goBackHandler(e);\n              }}\n            >\n              Back\n            </button>\n            <button\n              onClick={(e) => {\n                formSubmitHandler(e, sendRequestHandler, postObj);\n              }}\n            >\n              Submit\n            </button>\n          </div>\n        </form>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default PostForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}