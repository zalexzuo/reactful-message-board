{"ast":null,"code":"import React,{useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{useSelector}from\"react-redux\";import AddForm from\"../components/post/AddForm\";import useHttp from\"../hook/useHttp\";import{addPost}from\"../lib/firebase-api\";import PleaseLogin from\"../components/UI/PleaseLogin\";import{jsx as _jsx}from\"react/jsx-runtime\";var AddPost=function AddPost(){var isLogin=useSelector(function(state){return state.login.isLogin;});var _useHttp=useHttp(addPost),sendRequest=_useHttp.sendRequest,status=_useHttp.status;var navigate=useNavigate();useEffect(function(){if(status===\"completed\"){window.alert(\"Post Added!\");navigate(\"/allpost\",{replace:true});}});var addPostHandler=function addPostHandler(postObj){sendRequest(postObj);};return/*#__PURE__*/_jsx(React.Fragment,{children:isLogin?/*#__PURE__*/_jsx(AddForm,{addPostHandler:addPostHandler}):/*#__PURE__*/_jsx(PleaseLogin,{pageName:\"Add Post\"})});};export default AddPost;","map":{"version":3,"names":["React","useEffect","useNavigate","useSelector","AddForm","useHttp","addPost","PleaseLogin","AddPost","isLogin","state","login","sendRequest","status","navigate","window","alert","replace","addPostHandler","postObj"],"sources":["/Users/Zuo/Desktop/Reactful-project/reactful-message-board/src/pages/AddPost.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\n\nimport AddForm from \"../components/post/AddForm\";\nimport useHttp from \"../hook/useHttp\";\nimport { addPost } from \"../lib/firebase-api\";\nimport PleaseLogin from \"../components/UI/PleaseLogin\";\n\nconst AddPost = () => {\n  const isLogin = useSelector((state) => state.login.isLogin);\n\n  const { sendRequest, status } = useHttp(addPost);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (status === \"completed\") {\n      window.alert(\"Post Added!\");\n      navigate(\"/allpost\", { replace: true });\n    }\n  });\n\n  const addPostHandler = (postObj) => {\n    sendRequest(postObj);\n  };\n\n  return (\n    <React.Fragment>\n      {isLogin ? (\n        <AddForm addPostHandler={addPostHandler} />\n      ) : (\n        <PleaseLogin pageName={\"Add Post\"} />\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default AddPost;\n"],"mappings":"AAAA,MAAOA,MAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,WAAW,KAAQ,aAAa,CAEzC,MAAOC,QAAO,KAAM,4BAA4B,CAChD,MAAOC,QAAO,KAAM,iBAAiB,CACrC,OAASC,OAAO,KAAQ,qBAAqB,CAC7C,MAAOC,YAAW,KAAM,8BAA8B,CAAC,2CAEvD,GAAMC,QAAO,CAAG,QAAVA,QAAO,EAAS,CACpB,GAAMC,QAAO,CAAGN,WAAW,CAAC,SAACO,KAAK,QAAKA,MAAK,CAACC,KAAK,CAACF,OAAO,GAAC,CAE3D,aAAgCJ,OAAO,CAACC,OAAO,CAAC,CAAxCM,WAAW,UAAXA,WAAW,CAAEC,MAAM,UAANA,MAAM,CAC3B,GAAMC,SAAQ,CAAGZ,WAAW,EAAE,CAE9BD,SAAS,CAAC,UAAM,CACd,GAAIY,MAAM,GAAK,WAAW,CAAE,CAC1BE,MAAM,CAACC,KAAK,CAAC,aAAa,CAAC,CAC3BF,QAAQ,CAAC,UAAU,CAAE,CAAEG,OAAO,CAAE,IAAK,CAAC,CAAC,CACzC,CACF,CAAC,CAAC,CAEF,GAAMC,eAAc,CAAG,QAAjBA,eAAc,CAAIC,OAAO,CAAK,CAClCP,WAAW,CAACO,OAAO,CAAC,CACtB,CAAC,CAED,mBACE,KAAC,KAAK,CAAC,QAAQ,WACZV,OAAO,cACN,KAAC,OAAO,EAAC,cAAc,CAAES,cAAe,EAAG,cAE3C,KAAC,WAAW,EAAC,QAAQ,CAAE,UAAW,EACnC,EACc,CAErB,CAAC,CAED,cAAeV,QAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}