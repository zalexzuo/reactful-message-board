{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useReducer, useCallback } from \"react\";\nconst httpReducer = (state, action) => {\n  switch (action.type) {\n    case \"SEND\":\n      return {\n        data: null,\n        error: null,\n        status: \"pending\"\n      };\n    case \"SUCCESS\":\n      return {\n        data: action.responseDate,\n        error: null,\n        status: \"completed\"\n      };\n    case \"ERROR\":\n      return {\n        data: null,\n        error: action.errorMessage,\n        status: \"completed\"\n      };\n  }\n  return state;\n};\nconst useHttp = function (requestFunction) {\n  _s();\n  let startWithPending = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  const [httpState, dispatch] = useReducer(httpReducer, {\n    status: startWithPending ? \"pending\" : null,\n    data: null,\n    error: null\n  });\n  const sendRequest = useCallback(async function (requestData) {\n    dispatch({\n      type: \"SEND\"\n    });\n    try {\n      const responseData = await requestFunction(requestData);\n      console.log(\"responseData====\" + responseData);\n      dispatch({\n        type: \"SUCCESS\",\n        responseData\n      });\n    } catch (error) {\n      dispatch({\n        type: \"ERROR\",\n        errorMessage: error.message || \"Something went wrong!\"\n      });\n    }\n  }, [requestFunction]);\n  return {\n    sendRequest,\n    ...httpState\n  };\n};\n_s(useHttp, \"GbOdS7YZMkD7QZfkT+Ff2DGAgUs=\");\nexport default useHttp;","map":{"version":3,"names":["useReducer","useCallback","httpReducer","state","action","type","data","error","status","responseDate","errorMessage","useHttp","requestFunction","startWithPending","httpState","dispatch","sendRequest","requestData","responseData","console","log","message"],"sources":["/Users/Zuo/Desktop/Reactful-project/reactful-message-board/src/hook/useHttp.js"],"sourcesContent":["import { useReducer, useCallback } from \"react\";\n\nconst httpReducer = (state, action) => {\n  switch (action.type) {\n    case \"SEND\":\n      return {\n        data: null,\n        error: null,\n        status: \"pending\",\n      };\n    case \"SUCCESS\":\n      return {\n        data: action.responseDate,\n        error: null,\n        status: \"completed\",\n      };\n    case \"ERROR\":\n      return {\n        data: null,\n        error: action.errorMessage,\n        status: \"completed\",\n      };\n  }\n  return state;\n};\n\nconst useHttp = (requestFunction, startWithPending = false) => {\n  const [httpState, dispatch] = useReducer(httpReducer, {\n    status: startWithPending ? \"pending\" : null,\n    data: null,\n    error: null,\n  });\n\n  const sendRequest = useCallback(\n    async function (requestData) {\n      dispatch({ type: \"SEND\" });\n      try {\n        const responseData = await requestFunction(requestData);\n        console.log(\"responseData====\" + responseData);\n        dispatch({ type: \"SUCCESS\", responseData });\n      } catch (error) {\n        dispatch({\n          type: \"ERROR\",\n          errorMessage: error.message || \"Something went wrong!\",\n        });\n      }\n    },\n    [requestFunction]\n  );\n\n  return {\n    sendRequest,\n    ...httpState,\n  };\n};\n\nexport default useHttp;\n"],"mappings":";AAAA,SAASA,UAAU,EAAEC,WAAW,QAAQ,OAAO;AAE/C,MAAMC,WAAW,GAAG,CAACC,KAAK,EAAEC,MAAM,KAAK;EACrC,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,MAAM;MACT,OAAO;QACLC,IAAI,EAAE,IAAI;QACVC,KAAK,EAAE,IAAI;QACXC,MAAM,EAAE;MACV,CAAC;IACH,KAAK,SAAS;MACZ,OAAO;QACLF,IAAI,EAAEF,MAAM,CAACK,YAAY;QACzBF,KAAK,EAAE,IAAI;QACXC,MAAM,EAAE;MACV,CAAC;IACH,KAAK,OAAO;MACV,OAAO;QACLF,IAAI,EAAE,IAAI;QACVC,KAAK,EAAEH,MAAM,CAACM,YAAY;QAC1BF,MAAM,EAAE;MACV,CAAC;EAAC;EAEN,OAAOL,KAAK;AACd,CAAC;AAED,MAAMQ,OAAO,GAAG,UAACC,eAAe,EAA+B;EAAA;EAAA,IAA7BC,gBAAgB,uEAAG,KAAK;EACxD,MAAM,CAACC,SAAS,EAAEC,QAAQ,CAAC,GAAGf,UAAU,CAACE,WAAW,EAAE;IACpDM,MAAM,EAAEK,gBAAgB,GAAG,SAAS,GAAG,IAAI;IAC3CP,IAAI,EAAE,IAAI;IACVC,KAAK,EAAE;EACT,CAAC,CAAC;EAEF,MAAMS,WAAW,GAAGf,WAAW,CAC7B,gBAAgBgB,WAAW,EAAE;IAC3BF,QAAQ,CAAC;MAAEV,IAAI,EAAE;IAAO,CAAC,CAAC;IAC1B,IAAI;MACF,MAAMa,YAAY,GAAG,MAAMN,eAAe,CAACK,WAAW,CAAC;MACvDE,OAAO,CAACC,GAAG,CAAC,kBAAkB,GAAGF,YAAY,CAAC;MAC9CH,QAAQ,CAAC;QAAEV,IAAI,EAAE,SAAS;QAAEa;MAAa,CAAC,CAAC;IAC7C,CAAC,CAAC,OAAOX,KAAK,EAAE;MACdQ,QAAQ,CAAC;QACPV,IAAI,EAAE,OAAO;QACbK,YAAY,EAAEH,KAAK,CAACc,OAAO,IAAI;MACjC,CAAC,CAAC;IACJ;EACF,CAAC,EACD,CAACT,eAAe,CAAC,CAClB;EAED,OAAO;IACLI,WAAW;IACX,GAAGF;EACL,CAAC;AACH,CAAC;AAAC,GA5BIH,OAAO;AA8Bb,eAAeA,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}