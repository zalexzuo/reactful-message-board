{"ast":null,"code":"import _objectSpread from\"/Users/Zuo/Desktop/Reactful-project/reactful-message-board/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/Zuo/Desktop/Reactful-project/reactful-message-board/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/Zuo/Desktop/Reactful-project/reactful-message-board/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/Zuo/Desktop/Reactful-project/reactful-message-board/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useReducer,useCallback}from\"react\";var httpReducer=function httpReducer(state,action){switch(action.type){case\"SEND\":return{data:null,error:null,status:\"pending\"};case\"SUCCESS\":return{data:action.responseData,error:null,status:\"completed\"};case\"ERROR\":return{data:null,error:action.errorMessage,status:\"completed\"};}return state;};var useHttp=function useHttp(requestFunction){var startWithPending=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var _useReducer=useReducer(httpReducer,{status:startWithPending?\"pending\":null,data:null,error:null}),_useReducer2=_slicedToArray(_useReducer,2),httpState=_useReducer2[0],dispatch=_useReducer2[1];var sendRequest=useCallback(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(requestData){var responseData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:\"SEND\"});_context.prev=1;_context.next=4;return requestFunction(requestData);case 4:responseData=_context.sent;dispatch({type:\"SUCCESS\",responseData:responseData});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);dispatch({type:\"ERROR\",errorMessage:_context.t0.message||\"Something went wrong!\"});case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function(_x){return _ref.apply(this,arguments);};}(),[requestFunction]);return _objectSpread({sendRequest:sendRequest},httpState);};export default useHttp;","map":{"version":3,"names":["useReducer","useCallback","httpReducer","state","action","type","data","error","status","responseData","errorMessage","useHttp","requestFunction","startWithPending","httpState","dispatch","sendRequest","requestData","message"],"sources":["/Users/Zuo/Desktop/Reactful-project/reactful-message-board/src/hook/useHttp.js"],"sourcesContent":["import { useReducer, useCallback } from \"react\";\n\nconst httpReducer = (state, action) => {\n  switch (action.type) {\n    case \"SEND\":\n      return {\n        data: null,\n        error: null,\n        status: \"pending\",\n      };\n    case \"SUCCESS\":\n      return {\n        data: action.responseData,\n        error: null,\n        status: \"completed\",\n      };\n    case \"ERROR\":\n      return {\n        data: null,\n        error: action.errorMessage,\n        status: \"completed\",\n      };\n  }\n  return state;\n};\n\nconst useHttp = (requestFunction, startWithPending = false) => {\n  const [httpState, dispatch] = useReducer(httpReducer, {\n    status: startWithPending ? \"pending\" : null,\n    data: null,\n    error: null,\n  });\n\n  const sendRequest = useCallback(\n    async function (requestData) {\n      dispatch({ type: \"SEND\" });\n      try {\n        const responseData = await requestFunction(requestData);\n        dispatch({ type: \"SUCCESS\", responseData });\n      } catch (error) {\n        dispatch({\n          type: \"ERROR\",\n          errorMessage: error.message || \"Something went wrong!\",\n        });\n      }\n    },\n    [requestFunction]\n  );\n\n  return {\n    sendRequest,\n    ...httpState,\n  };\n};\n\nexport default useHttp;\n"],"mappings":"+kBAAA,OAASA,UAAU,CAAEC,WAAW,KAAQ,OAAO,CAE/C,GAAMC,YAAW,CAAG,QAAdA,YAAW,CAAIC,KAAK,CAAEC,MAAM,CAAK,CACrC,OAAQA,MAAM,CAACC,IAAI,EACjB,IAAK,MAAM,CACT,MAAO,CACLC,IAAI,CAAE,IAAI,CACVC,KAAK,CAAE,IAAI,CACXC,MAAM,CAAE,SACV,CAAC,CACH,IAAK,SAAS,CACZ,MAAO,CACLF,IAAI,CAAEF,MAAM,CAACK,YAAY,CACzBF,KAAK,CAAE,IAAI,CACXC,MAAM,CAAE,WACV,CAAC,CACH,IAAK,OAAO,CACV,MAAO,CACLF,IAAI,CAAE,IAAI,CACVC,KAAK,CAAEH,MAAM,CAACM,YAAY,CAC1BF,MAAM,CAAE,WACV,CAAC,CAAC,CAEN,MAAOL,MAAK,CACd,CAAC,CAED,GAAMQ,QAAO,CAAG,QAAVA,QAAO,CAAIC,eAAe,CAA+B,IAA7BC,iBAAgB,2DAAG,KAAK,CACxD,gBAA8Bb,UAAU,CAACE,WAAW,CAAE,CACpDM,MAAM,CAAEK,gBAAgB,CAAG,SAAS,CAAG,IAAI,CAC3CP,IAAI,CAAE,IAAI,CACVC,KAAK,CAAE,IACT,CAAC,CAAC,4CAJKO,SAAS,iBAAEC,QAAQ,iBAM1B,GAAMC,YAAW,CAAGf,WAAW,4FAC7B,iBAAgBgB,WAAW,qIACzBF,QAAQ,CAAC,CAAEV,IAAI,CAAE,MAAO,CAAC,CAAC,CAAC,sCAEEO,gBAAe,CAACK,WAAW,CAAC,QAAjDR,YAAY,eAClBM,QAAQ,CAAC,CAAEV,IAAI,CAAE,SAAS,CAAEI,YAAY,CAAZA,YAAa,CAAC,CAAC,CAAC,+EAE5CM,QAAQ,CAAC,CACPV,IAAI,CAAE,OAAO,CACbK,YAAY,CAAE,YAAMQ,OAAO,EAAI,uBACjC,CAAC,CAAC,CAAC,oEAEN,+DACD,CAACN,eAAe,CAAC,CAClB,CAED,sBACEI,WAAW,CAAXA,WAAW,EACRF,SAAS,EAEhB,CAAC,CAED,cAAeH,QAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}