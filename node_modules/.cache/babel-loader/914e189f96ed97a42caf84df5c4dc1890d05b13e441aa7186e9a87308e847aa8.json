{"ast":null,"code":"import jwt_decode from\"jwt-decode\";export var GoogleLogin=function GoogleLogin(loginUrl){// tihs line will solve google is not define problem\nvar google=window.google;var handleCallbackResponse=function handleCallbackResponse(response){// console.log(\"Encoded JWT ID token: \" + response.credential);\nvar userObject=jwt_decode(response.credential);// console.log(userObject);\n// localStorage can only store String\nlocalStorage.setItem(\"userInfo\",JSON.stringify(userObject));window.location.replace(loginUrl);};google.accounts.id.initialize({/* global google */client_id:process.env.REACT_APP_GOOGLE_CLIENT_KEY,referrerPolicy:{policy:\"strict-origin-when-cross-origin\"},callback:handleCallbackResponse});google.accounts.id.renderButton(document.getElementById(\"loginBtn\"),{theme:\"outline\",size:\"large\"});};","map":{"version":3,"names":["jwt_decode","GoogleLogin","loginUrl","google","window","handleCallbackResponse","response","userObject","credential","localStorage","setItem","JSON","stringify","location","replace","accounts","id","initialize","client_id","process","env","REACT_APP_GOOGLE_CLIENT_KEY","referrerPolicy","policy","callback","renderButton","document","getElementById","theme","size"],"sources":["/Users/Zuo/Desktop/Reactful-project/reactful-message-board/src/lib/googleLogin.js"],"sourcesContent":["import jwt_decode from \"jwt-decode\";\n\nexport const GoogleLogin = (loginUrl) => {\n  // tihs line will solve google is not define problem\n  const google = window.google;\n\n  const handleCallbackResponse = (response) => {\n    // console.log(\"Encoded JWT ID token: \" + response.credential);\n    var userObject = jwt_decode(response.credential);\n    // console.log(userObject);\n\n    // localStorage can only store String\n    localStorage.setItem(\"userInfo\", JSON.stringify(userObject));\n\n    window.location.replace(loginUrl);\n  };\n\n  google.accounts.id.initialize({\n    /* global google */\n    client_id: process.env.REACT_APP_GOOGLE_CLIENT_KEY,\n    referrerPolicy: {\n      policy: \"strict-origin-when-cross-origin\",\n    },\n    callback: handleCallbackResponse,\n  });\n\n  google.accounts.id.renderButton(document.getElementById(\"loginBtn\"), {\n    theme: \"outline\",\n    size: \"large\",\n  });\n};\n"],"mappings":"AAAA,MAAOA,WAAU,KAAM,YAAY,CAEnC,MAAO,IAAMC,YAAW,CAAG,QAAdA,YAAW,CAAIC,QAAQ,CAAK,CACvC;AACA,GAAMC,OAAM,CAAGC,MAAM,CAACD,MAAM,CAE5B,GAAME,uBAAsB,CAAG,QAAzBA,uBAAsB,CAAIC,QAAQ,CAAK,CAC3C;AACA,GAAIC,WAAU,CAAGP,UAAU,CAACM,QAAQ,CAACE,UAAU,CAAC,CAChD;AAEA;AACAC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAEC,IAAI,CAACC,SAAS,CAACL,UAAU,CAAC,CAAC,CAE5DH,MAAM,CAACS,QAAQ,CAACC,OAAO,CAACZ,QAAQ,CAAC,CACnC,CAAC,CAEDC,MAAM,CAACY,QAAQ,CAACC,EAAE,CAACC,UAAU,CAAC,CAC5B,mBACAC,SAAS,CAAEC,OAAO,CAACC,GAAG,CAACC,2BAA2B,CAClDC,cAAc,CAAE,CACdC,MAAM,CAAE,iCACV,CAAC,CACDC,QAAQ,CAAEnB,sBACZ,CAAC,CAAC,CAEFF,MAAM,CAACY,QAAQ,CAACC,EAAE,CAACS,YAAY,CAACC,QAAQ,CAACC,cAAc,CAAC,UAAU,CAAC,CAAE,CACnEC,KAAK,CAAE,SAAS,CAChBC,IAAI,CAAE,OACR,CAAC,CAAC,CACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}