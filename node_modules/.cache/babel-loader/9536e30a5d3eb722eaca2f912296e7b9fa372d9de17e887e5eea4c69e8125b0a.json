{"ast":null,"code":"import React,{useEffect}from\"react\";import{NavLink,Link,useNavigate,useLocation}from\"react-router-dom\";import styles from\"./Navigation.module.scss\";import logo from\"../../images/logo.png\";import{useSelector,useDispatch}from\"react-redux\";import{GoogleLogin}from\"../../lib/googleLogin\";import{LoginActions}from\"../../store/LoginSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Navigation=function Navigation(){var isLogin=useSelector(function(state){return state.login.isLogin;});// console.log(\"login: \" + isLogin);\n// const themeDark = useSelector((state) => state.theme.theme);\n// console.log(\"theme: \" + themeDark);\nvar dispatch=useDispatch();// login and logout redirecting config\nvar navigate=useNavigate();var location=useLocation();var loginUrl=window.location.hostname+location.pathname;// const loginHandler = () => {\n//   dispatch(LoginActions.userLogin());\n// };\nvar logoutHandler=function logoutHandler(){var confirmLogout=window.confirm(\"Are you sure you want to log out?\");if(confirmLogout){dispatch(LoginActions.userLogout());localStorage.removeItem(\"userInfo\");navigate(\"/allpost\",{replace:true});window.location.reload();}};// get localStorage for log\n// const getUserInfo = () => {\n//   return localStorage.getItem(\"userInfo\");\n// };\nvar themeToggleHandler=function themeToggleHandler(){if(localStorage.getItem(\"theme\")==\"true\"){localStorage.setItem(\"theme\",false);document.body.style.backgroundColor=\"#FFF\";}else if(localStorage.getItem(\"theme\")==\"false\"){localStorage.setItem(\"theme\",true);document.body.style.backgroundColor=\"#1e272e\";}else{localStorage.setItem(\"theme\",false);document.body.style.backgroundColor=\"#FFF\";}};var initialThemeFunction=function initialThemeFunction(){if(localStorage.getItem(\"theme\")==\"true\"){document.body.style.backgroundColor=\"#1e272e\";}else if(localStorage.getItem(\"theme\")==\"false\"){document.body.style.backgroundColor=\"#FFF\";}else{localStorage.setItem(\"theme\",false);}};useEffect(function(){if(isLogin==false||isLogin==null||isLogin==undefined){GoogleLogin(loginUrl);}initialThemeFunction();},[isLogin,GoogleLogin]);var getLog=function getLog(){// console.log(\"current theme: \" + localStorage.getItem(\"theme\"));\n};return/*#__PURE__*/_jsxs(\"header\",{className:styles.header,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.logo,children:/*#__PURE__*/_jsx(Link,{to:\"/allpost\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"ReactFul\"})})}),/*#__PURE__*/_jsx(\"nav\",{className:styles.nav,children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(NavLink,{to:\"/allpost\",className:function className(navData){return navData.isActive?styles.active:styles.link;},children:\"All Post\"})}),isLogin?/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(NavLink,{to:\"/addpost\",className:function className(navData){return navData.isActive?styles.active:styles.link;},children:\"Add Post\"})}):\"\",isLogin?/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(NavLink,{to:\"/mypost\",className:function className(navData){return navData.isActive?styles.active:styles.link;},children:\"My Post\"})}):\"\",isLogin?/*#__PURE__*/_jsx(\"button\",{onClick:logoutHandler,children:\"Logout\"}):/*#__PURE__*/_jsx(\"div\",{id:\"loginBtn\"}),/*#__PURE__*/_jsx(\"button\",{onClick:themeToggleHandler,children:\"Theme\"})]})})]});};export default Navigation;","map":{"version":3,"names":["React","useEffect","NavLink","Link","useNavigate","useLocation","styles","logo","useSelector","useDispatch","GoogleLogin","LoginActions","Navigation","isLogin","state","login","dispatch","navigate","location","loginUrl","window","hostname","pathname","logoutHandler","confirmLogout","confirm","userLogout","localStorage","removeItem","replace","reload","themeToggleHandler","getItem","setItem","document","body","style","backgroundColor","initialThemeFunction","undefined","getLog","header","nav","navData","isActive","active","link"],"sources":["/Users/Zuo/Desktop/Reactful-project/reactful-message-board/src/components/layout/Navigation.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { NavLink, Link, useNavigate, useLocation } from \"react-router-dom\";\n\nimport styles from \"./Navigation.module.scss\";\nimport logo from \"../../images/logo.png\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { GoogleLogin } from \"../../lib/googleLogin\";\nimport { LoginActions } from \"../../store/LoginSlice\";\n\nconst Navigation = () => {\n  const isLogin = useSelector((state) => state.login.isLogin);\n  // console.log(\"login: \" + isLogin);\n\n  // const themeDark = useSelector((state) => state.theme.theme);\n  // console.log(\"theme: \" + themeDark);\n\n  const dispatch = useDispatch();\n\n  // login and logout redirecting config\n  const navigate = useNavigate();\n  const location = useLocation();\n  const loginUrl = window.location.hostname + location.pathname;\n\n  // const loginHandler = () => {\n  //   dispatch(LoginActions.userLogin());\n  // };\n\n  const logoutHandler = () => {\n    const confirmLogout = window.confirm(\"Are you sure you want to log out?\");\n\n    if (confirmLogout) {\n      dispatch(LoginActions.userLogout());\n      localStorage.removeItem(\"userInfo\");\n      navigate(\"/allpost\", { replace: true });\n      window.location.reload();\n    }\n  };\n\n  // get localStorage for log\n  // const getUserInfo = () => {\n  //   return localStorage.getItem(\"userInfo\");\n  // };\n\n  const themeToggleHandler = () => {\n    if (localStorage.getItem(\"theme\") == \"true\") {\n      localStorage.setItem(\"theme\", false);\n      document.body.style.backgroundColor = \"#FFF\";\n    } else if (localStorage.getItem(\"theme\") == \"false\") {\n      localStorage.setItem(\"theme\", true);\n      document.body.style.backgroundColor = \"#1e272e\";\n    } else {\n      localStorage.setItem(\"theme\", false);\n      document.body.style.backgroundColor = \"#FFF\";\n    }\n  };\n\n  const initialThemeFunction = () => {\n    if (localStorage.getItem(\"theme\") == \"true\") {\n      document.body.style.backgroundColor = \"#1e272e\";\n    } else if (localStorage.getItem(\"theme\") == \"false\") {\n      document.body.style.backgroundColor = \"#FFF\";\n    } else {\n      localStorage.setItem(\"theme\", false);\n    }\n  };\n\n  useEffect(() => {\n    if (isLogin == false || isLogin == null || isLogin == undefined) {\n      GoogleLogin(loginUrl);\n    }\n\n    initialThemeFunction();\n  }, [isLogin, GoogleLogin]);\n\n  const getLog = () => {\n    // console.log(\"current theme: \" + localStorage.getItem(\"theme\"));\n  };\n\n  return (\n    <header className={styles.header}>\n      <div className={styles.logo}>\n        <Link to=\"/allpost\">\n          <img src={logo} alt=\"ReactFul\" />\n        </Link>\n      </div>\n      <nav className={styles.nav}>\n        <ul>\n          <li>\n            <NavLink\n              to=\"/allpost\"\n              className={(navData) =>\n                navData.isActive ? styles.active : styles.link\n              }\n            >\n              All Post\n            </NavLink>\n          </li>\n          {isLogin ? (\n            <li>\n              <NavLink\n                to=\"/addpost\"\n                className={(navData) =>\n                  navData.isActive ? styles.active : styles.link\n                }\n              >\n                Add Post\n              </NavLink>\n            </li>\n          ) : (\n            \"\"\n          )}\n          {isLogin ? (\n            <li>\n              <NavLink\n                to=\"/mypost\"\n                className={(navData) =>\n                  navData.isActive ? styles.active : styles.link\n                }\n              >\n                My Post\n              </NavLink>\n            </li>\n          ) : (\n            \"\"\n          )}\n          {isLogin ? (\n            <button onClick={logoutHandler}>Logout</button>\n          ) : (\n            <div id=\"loginBtn\"></div>\n          )}\n          <button onClick={themeToggleHandler}>Theme</button>\n          {/* <button onClick={getLog}>TEST</button> */}\n        </ul>\n      </nav>\n    </header>\n  );\n};\n\nexport default Navigation;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}