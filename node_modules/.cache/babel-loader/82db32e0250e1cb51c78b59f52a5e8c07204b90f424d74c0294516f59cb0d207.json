{"ast":null,"code":"var _s = $RefreshSig$();\nimport { db } from \"./firebase-config\";\nimport { collection, getDocs, updateDoc, doc, deleteDoc, setDoc } from \"firebase/firestore\";\nimport { useLocation } from \"react-router-dom\";\nconst postsCollectionRef = collection(db, \"posts\");\nexport const getAllPosts = async () => {\n  const responseData = await getDocs(postsCollectionRef);\n  const dataArray = responseData.docs.map(doc => ({\n    ...doc.data(),\n    id: doc.id\n  }));\n  return dataArray;\n};\nexport const getSinglePost = async postId => {\n  await getDocs();\n};\n\n// *** remember to set modifieddate\nexport const addPost = async postObj => {\n  _s();\n  const location = useLocation();\n  const docRef = doc(postsCollectionRef);\n  postObj.postid = docRef.id;\n  await setDoc(docRef, postObj);\n  //await addDoc(postsCollectionRef, postObj);\n};\n\n// *** remember to set modifieddate\n_s(addPost, \"pkHmaVRPskBaU4tMJuJJpV42k1I=\", false, function () {\n  return [useLocation];\n});\nexport const updatePost = async (postId, postObj) => {\n  const postDoc = doc(db, \"posts\", postId);\n  await updateDoc(postDoc, postObj);\n};\nexport const deletePost = async postId => {\n  const postDoc = doc(db, \"posts\", postId);\n  await deleteDoc(postDoc);\n};","map":{"version":3,"names":["db","collection","getDocs","updateDoc","doc","deleteDoc","setDoc","useLocation","postsCollectionRef","getAllPosts","responseData","dataArray","docs","map","data","id","getSinglePost","postId","addPost","postObj","location","docRef","postid","updatePost","postDoc","deletePost"],"sources":["/Users/Zuo/Desktop/Reactful-project/reactful-message-board/src/lib/firebase-api.js"],"sourcesContent":["import { db } from \"./firebase-config\";\nimport {\n  collection,\n  getDocs,\n  updateDoc,\n  doc,\n  deleteDoc,\n  setDoc,\n} from \"firebase/firestore\";\nimport { useLocation } from \"react-router-dom\";\n\nconst postsCollectionRef = collection(db, \"posts\");\n\nexport const getAllPosts = async () => {\n  const responseData = await getDocs(postsCollectionRef);\n\n  const dataArray = responseData.docs.map((doc) => ({\n    ...doc.data(),\n    id: doc.id,\n  }));\n  return dataArray;\n};\n\nexport const getSinglePost = async (postId) => {\n  await getDocs();\n};\n\n// *** remember to set modifieddate\nexport const addPost = async (postObj) => {\n  const location = useLocation();\n  const docRef = doc(postsCollectionRef);\n  postObj.postid = docRef.id;\n  await setDoc(docRef, postObj);\n  //await addDoc(postsCollectionRef, postObj);\n};\n\n// *** remember to set modifieddate\nexport const updatePost = async (postId, postObj) => {\n  const postDoc = doc(db, \"posts\", postId);\n  await updateDoc(postDoc, postObj);\n};\n\nexport const deletePost = async (postId) => {\n  const postDoc = doc(db, \"posts\", postId);\n  await deleteDoc(postDoc);\n};\n"],"mappings":";AAAA,SAASA,EAAE,QAAQ,mBAAmB;AACtC,SACEC,UAAU,EACVC,OAAO,EACPC,SAAS,EACTC,GAAG,EACHC,SAAS,EACTC,MAAM,QACD,oBAAoB;AAC3B,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,kBAAkB,GAAGP,UAAU,CAACD,EAAE,EAAE,OAAO,CAAC;AAElD,OAAO,MAAMS,WAAW,GAAG,YAAY;EACrC,MAAMC,YAAY,GAAG,MAAMR,OAAO,CAACM,kBAAkB,CAAC;EAEtD,MAAMG,SAAS,GAAGD,YAAY,CAACE,IAAI,CAACC,GAAG,CAAET,GAAG,KAAM;IAChD,GAAGA,GAAG,CAACU,IAAI,EAAE;IACbC,EAAE,EAAEX,GAAG,CAACW;EACV,CAAC,CAAC,CAAC;EACH,OAAOJ,SAAS;AAClB,CAAC;AAED,OAAO,MAAMK,aAAa,GAAG,MAAOC,MAAM,IAAK;EAC7C,MAAMf,OAAO,EAAE;AACjB,CAAC;;AAED;AACA,OAAO,MAAMgB,OAAO,GAAG,MAAOC,OAAO,IAAK;EAAA;EACxC,MAAMC,QAAQ,GAAGb,WAAW,EAAE;EAC9B,MAAMc,MAAM,GAAGjB,GAAG,CAACI,kBAAkB,CAAC;EACtCW,OAAO,CAACG,MAAM,GAAGD,MAAM,CAACN,EAAE;EAC1B,MAAMT,MAAM,CAACe,MAAM,EAAEF,OAAO,CAAC;EAC7B;AACF,CAAC;;AAED;AAAA,GARaD,OAAO;EAAA,QACDX,WAAW;AAAA;AAQ9B,OAAO,MAAMgB,UAAU,GAAG,OAAON,MAAM,EAAEE,OAAO,KAAK;EACnD,MAAMK,OAAO,GAAGpB,GAAG,CAACJ,EAAE,EAAE,OAAO,EAAEiB,MAAM,CAAC;EACxC,MAAMd,SAAS,CAACqB,OAAO,EAAEL,OAAO,CAAC;AACnC,CAAC;AAED,OAAO,MAAMM,UAAU,GAAG,MAAOR,MAAM,IAAK;EAC1C,MAAMO,OAAO,GAAGpB,GAAG,CAACJ,EAAE,EAAE,OAAO,EAAEiB,MAAM,CAAC;EACxC,MAAMZ,SAAS,CAACmB,OAAO,CAAC;AAC1B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}