{"ast":null,"code":"import React,{useEffect}from\"react\";import{useSelector}from\"react-redux\";import{getMyPosts}from\"../lib/firebase-api\";import PostList from\"../components/post/PostList\";import LoadingSpinner from\"../components/UI/LoadingSpinner\";import useHttp from\"../hook/useHttp\";import PleaseLogin from\"../components/UI/PleaseLogin\";import{jsx as _jsx}from\"react/jsx-runtime\";var MyPost=function MyPost(){var isLogin=useSelector(function(state){return state.login.isLogin;});var _useHttp=useHttp(getMyPosts,true),sendRequest=_useHttp.sendRequest,status=_useHttp.status,myPosts=_useHttp.data,error=_useHttp.error;useEffect(function(){if(isLogin){var userEmail=JSON.parse(localStorage.getItem(\"userInfo\")).email;sendRequest(userEmail);}},[sendRequest]);if(status===\"pending\"&&isLogin==true){return/*#__PURE__*/_jsx(\"div\",{className:\"centered\",children:/*#__PURE__*/_jsx(LoadingSpinner,{})});}if(error){return/*#__PURE__*/_jsx(\"p\",{className:\"centered focused\",children:error});}if(status===\"completed\"&&(!myPosts||myPosts.length===0)){return/*#__PURE__*/_jsx(\"h1\",{children:\"No Post Found!\"});}return/*#__PURE__*/_jsx(React.Fragment,{children:isLogin?/*#__PURE__*/_jsx(PostList,{posts:myPosts,btnText:\"Edit\"}):/*#__PURE__*/_jsx(PleaseLogin,{})});};export default MyPost;","map":{"version":3,"names":["React","useEffect","useSelector","getMyPosts","PostList","LoadingSpinner","useHttp","PleaseLogin","MyPost","isLogin","state","login","sendRequest","status","myPosts","data","error","userEmail","JSON","parse","localStorage","getItem","email","length"],"sources":["/Users/Zuo/Desktop/Reactful-project/reactful-message-board/src/pages/MyPost.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\n\nimport { getMyPosts } from \"../lib/firebase-api\";\nimport PostList from \"../components/post/PostList\";\nimport LoadingSpinner from \"../components/UI/LoadingSpinner\";\nimport useHttp from \"../hook/useHttp\";\nimport PleaseLogin from \"../components/UI/PleaseLogin\";\n\nconst MyPost = () => {\n  const isLogin = useSelector((state) => state.login.isLogin);\n\n  const {\n    sendRequest,\n    status,\n    data: myPosts,\n    error,\n  } = useHttp(getMyPosts, true);\n\n  useEffect(() => {\n    if (isLogin) {\n      const userEmail = JSON.parse(localStorage.getItem(\"userInfo\")).email;\n      sendRequest(userEmail);\n    }\n  }, [sendRequest]);\n\n  if (status === \"pending\" && isLogin == true) {\n    return (\n      <div className=\"centered\">\n        <LoadingSpinner />\n      </div>\n    );\n  }\n\n  if (error) {\n    return <p className=\"centered focused\">{error}</p>;\n  }\n\n  if (status === \"completed\" && (!myPosts || myPosts.length === 0)) {\n    return <h1>No Post Found!</h1>;\n  }\n\n  return (\n    <React.Fragment>\n      {isLogin ? (\n        <PostList posts={myPosts} btnText={\"Edit\"} />\n      ) : (\n        <PleaseLogin />\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default MyPost;\n"],"mappings":"AAAA,MAAOA,MAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,WAAW,KAAQ,aAAa,CAEzC,OAASC,UAAU,KAAQ,qBAAqB,CAChD,MAAOC,SAAQ,KAAM,6BAA6B,CAClD,MAAOC,eAAc,KAAM,iCAAiC,CAC5D,MAAOC,QAAO,KAAM,iBAAiB,CACrC,MAAOC,YAAW,KAAM,8BAA8B,CAAC,2CAEvD,GAAMC,OAAM,CAAG,QAATA,OAAM,EAAS,CACnB,GAAMC,QAAO,CAAGP,WAAW,CAAC,SAACQ,KAAK,QAAKA,MAAK,CAACC,KAAK,CAACF,OAAO,GAAC,CAE3D,aAKIH,OAAO,CAACH,UAAU,CAAE,IAAI,CAAC,CAJ3BS,WAAW,UAAXA,WAAW,CACXC,MAAM,UAANA,MAAM,CACAC,OAAO,UAAbC,IAAI,CACJC,KAAK,UAALA,KAAK,CAGPf,SAAS,CAAC,UAAM,CACd,GAAIQ,OAAO,CAAE,CACX,GAAMQ,UAAS,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,CAACC,KAAK,CACpEV,WAAW,CAACK,SAAS,CAAC,CACxB,CACF,CAAC,CAAE,CAACL,WAAW,CAAC,CAAC,CAEjB,GAAIC,MAAM,GAAK,SAAS,EAAIJ,OAAO,EAAI,IAAI,CAAE,CAC3C,mBACE,YAAK,SAAS,CAAC,UAAU,uBACvB,KAAC,cAAc,IAAG,EACd,CAEV,CAEA,GAAIO,KAAK,CAAE,CACT,mBAAO,UAAG,SAAS,CAAC,kBAAkB,UAAEA,KAAK,EAAK,CACpD,CAEA,GAAIH,MAAM,GAAK,WAAW,GAAK,CAACC,OAAO,EAAIA,OAAO,CAACS,MAAM,GAAK,CAAC,CAAC,CAAE,CAChE,mBAAO,sCAAuB,CAChC,CAEA,mBACE,KAAC,KAAK,CAAC,QAAQ,WACZd,OAAO,cACN,KAAC,QAAQ,EAAC,KAAK,CAAEK,OAAQ,CAAC,OAAO,CAAE,MAAO,EAAG,cAE7C,KAAC,WAAW,IACb,EACc,CAErB,CAAC,CAED,cAAeN,OAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}